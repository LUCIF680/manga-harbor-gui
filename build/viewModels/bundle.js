(()=>{var e={613:e=>{baseUrl="https://mangaharbor.net",apiUrl="https://mangaharbor.net/api/v1";const t=function(e){const t=new Date(e);return new Intl.DateTimeFormat("en",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"numeric",minute:"numeric",hour12:!0}).format(t)},a=function(e){location.href=`manga?id=${e}`};e.exports.transformDate=t,e.exports.redirectManga=a,e.exports.config={baseUrl,apiUrl},e.exports.__=function(e){return document.getElementById(e)},e.exports.getPara=function(){let e=window.location.href.split("/");return e[e.length-1]},e.exports.createCard=function(e){const n=document.createElement("div");n.className="h-64 cursor-pointer",n.addEventListener("click",(()=>a(e.id)));const r=document.createElement("div");r.className="w-full h-full bg-gray-700 grid grid-cols-2 rounded-lg",n.appendChild(r);const s=document.createElement("img");s.className="h-64 p-2",s.src=e.thumbnail,s.loading="lazy",r.appendChild(s);const o=document.createElement("div");r.appendChild(o);const i=document.createElement("div");i.className="flex mb-3 font-sans font-semibold",i.textContent=e.title,o.appendChild(i);const c=document.createElement("div");c.className="flex text-sm",c.textContent=`Status: ${e.status}`,o.appendChild(c);const l=document.createElement("div");l.className="flex text-sm",l.innerHTML=`Author: <span class="text-xs">${e.author}</span>`,o.appendChild(l);const d=document.createElement("div");d.className="flex text-sm",d.innerHTML=`Genre: <span class="text-xs">${e.genre}</span>`,o.appendChild(d);const m=document.createElement("div");return m.className="flex text-sm",m.textContent=`Last Updated: ${t(e.lastUpdated)}`,o.appendChild(m),n}}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}(()=>{const{createCard:e,config:t}=a(613);document.querySelector("#searchForm").addEventListener("submit",(async e=>{e.preventDefault();const a=document.querySelector("#search").value;window.location=`${t.baseUrl}/search?p=1&s=${encodeURIComponent(a)}`})),(async()=>{const a=new URLSearchParams(location.search),n=parseInt(a.get("page"))||0,r=document.getElementById("next"),s=document.getElementById("back");0!==n&&(s.classList.remove("hidden"),s.href=`${t.baseUrl}?page=${n-1}`),r.href=`${t.baseUrl}?page=${n+1}`;const o=await fetch(`${t.baseUrl}/api/v1/page/${n}`),{mangaList:i}=await o.json(),c=document.getElementById("cards");i.forEach((t=>{const a=e({id:t.id,title:t.title,link:t.link,status:t.status,lastUpdated:t.last_updated,genre:t.genre,author:t.author,thumbnail:t.thumbnail});c.appendChild(a)}))})()})(),(()=>{const{__:e,transformDate:t,config:n}=a(613);!async function(){let a=new URLSearchParams(location.search),r=await fetch(`${n.baseUrl}/api/v1/manga/${a.get("id")}`,{method:"get"});document.querySelector("#searchForm").addEventListener("submit",(async e=>{e.preventDefault();const t=document.querySelector("#search").value;window.location=`${n.baseUrl}/search?p=1&s=${encodeURIComponent(t)}`}));let s=(await r.json()).manga;e("title").innerText=s.title,e("status").innerText=s.status,e("author").innerText=s.author,e("last-updated").innerText=t(s.last_updated),e("genre").innerText=s.genre,e("summary").innerText=s.summary,e("thumbnail").src=s.thumbnail,r=await fetch(`${n.baseUrl}/api/v1/chapter/${a.get("id")}`,{method:"get"});const o=await r.json();let i="";for(let e=0;e<o.length;e+=2)i+=`<a class="flex bg-gradient-to-r hover:bg-blue-900 from-grey-600 to-grey-900 text-white rounded-lg p-2 m-1" href="${n.baseUrl}/chapter/${o[e].id}"> ${o[e].title}</a>`,o[e+1]&&(i+=`<a class="flex bg-gradient-to-r hover:bg-blue-900 from-grey-500 to-black-700 text-white rounded-lg p-2 m-1" href="${n.baseUrl}/chapter/${o[e+1].id}"> ${o[e+1].title}</a>`);e("chapters").innerHTML=i;const c=document.getElementById("summary"),l=c.textContent.trim(),d=document.getElementById("read-more-link"),m=document.getElementById("read-less-link");if(l.length>200){const e=l.slice(0,200)+"...";c.textContent=e,d.classList.remove("hidden"),d.addEventListener("click",(e=>{e.preventDefault(),c.textContent=l,d.classList.add("hidden"),m.classList.remove("hidden")})),m.addEventListener("click",(t=>{t.preventDefault(),c.textContent=e,m.classList.add("hidden"),d.classList.remove("hidden")}))}}()})(),(()=>{const{createCard:e,__:t}=a(613);t("searchForm").onsubmit=async function(e){e.preventDefault(),window.location=`${config.baseUrl}/search?p=1&s=${t("search").value}`},(async()=>{let t=new URLSearchParams(location.search),a=t.get("p"),n=t.get("s");null===a?a=1:"1"!==a&&(document.getElementById("back").classList.remove("hidden"),document.getElementById("back").href=`${config.baseUrl}/search?s=${n}&p=${a-1}`),document.getElementById("next").href=`${config.baseUrl}/search?s=${n}&p=${parseInt(a)+1}`;let r=await fetch(`${config.baseUrl}/api/v1/search?s=${n}&p=${a}`,{method:"get"});(await r.json()).mangaList.forEach((t=>{cards.innerHTML+=e({id:t.id,title:t.title,link:t.link,status:t.status,lastUpdated:t.last_updated,genre:t.genre,author:t.author,thumbnail:t.thumbnail})}))})()})(),(()=>{const{getPara:e}=a(613);!async function(){const t=e(),a=await fetch(`${config.apiUrl}/images/list/${t}`),n=(await a.json()).map((e=>`<img src="${config.apiUrl}/image/${e}">`)).join("");__("image-panel").innerHTML=n,__("loading").remove()}()})()})();